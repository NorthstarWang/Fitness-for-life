{% extends 'layout.html' %}{% set title = "Article" %}
{% block body %}
    <!--begin::Container-->
    <div class="container">
        <div class="row">
            <div class="col-12">
                <!--begin::Tables Widget 2-->
                <div class="card card-custom card-stretch gutter-b ">
                    <!--begin::Header-->
                    <div class="card-header border-0 pt-7">
                        <div class="card-toolbar">
                            <ul class="nav nav-pills nav-pills-sm nav-dark">
                                <li class="nav-item">
                                    <a href="{{ url_for(request.endpoint,page=1,per_page=request.args.get("per_page"),category="Diet")}}" class="nav-link py-2 px-4 {% if request.args.get("category") | string == "Diet" %}active{% endif %} font-weight-bolder font-size-sm">Diet</a>
                                </li>
                                <li class="nav-item ml-0">
                                    <a href="{{ url_for(request.endpoint,page=1,per_page=request.args.get("per_page"),category="Exercise")}}" class="nav-link py-2 px-4 {% if request.args.get("category") | string == "Exercise" %}active{% endif %} font-weight-bolder font-size-sm">Exercise</a>
                                </li>
                            </ul>
                        </div>
                        <div class="d-flex align-items-center py-3">
                        <script>
                            function goto(per_page){
                                window.location.href="{{ url_for(request.endpoint,page=1,category=request.args.get("category")) | safe }}&per_page="+per_page;
                            }
                        </script>
                            <select class="form-control form-control-sm font-weight-bold mr-4 border-0 bg-light" style="width: 75px;" onchange="goto(this.value)">
                                <option value="10" {% if pagination.per_page == 10 %}selected{% endif %}>10</option>
                                <option value="20" {% if pagination.per_page == 20 %}selected{% endif %}>20</option>
                                <option value="30" {% if pagination.per_page == 30 %}selected{% endif %}>30</option>
                            </select> <span class="text-muted">Displaying <strong>{{ pagination.items | length if pagination.per_page < pagination.total else "All" }}</strong> of {{ pagination.total }} articles</span>
                        </div>
                    </div>
                    <!--end::Header-->
                    <!--begin::Body-->
                    <style>
                        @media only screen and (max-width: 600px) {
                            .article-img {
                                display: none;
                            }
                        }
                    </style>
                    <div class="card-body pt-0 mt-n1 pb-3">
                        <div class="mt-5">
                            <!--begin::Body-->
                            <div class="card-body pt-7">
                                {% for article in articles %}
                                    <!--begin::Item-->
                                    <div class="d-flex align-items-center pb-9">
                                        <!--begin::Symbol-->
                                        <div class="symbol symbol-70 symbol-2by3 flex-shrink-0 mr-6 article-img">
                                            <div class="symbol-label" style="background-image: url('{{ url_for('static', filename='assets/media/stock/'+article.img | string+'.jpg') }}')"></div>
                                        </div>
                                        <!--end::Symbol-->
                                        <!--begin::Section-->
                                        <div class="d-flex flex-column flex-grow-1">
                                            <!--begin::Title-->
                                            <a href="#" class="text-dark-75 font-weight-bolder text-hover-primary font-size-lg mb-1">{{ article.title }}</a>
                                            <!--end::Title-->
                                            <!--begin::Desc-->
                                            <span class="text-muted font-weight-bold">{{ article.tag }}</span>
                                            <!--begin::Desc-->
                                        </div>
                                        <!--end::Section-->
                                    </div>
                                    <!--end::Item-->
                                {% endfor %}
                            </div>
                            <!--end::Body-->
                            <!--begin::Pagination-->
                            <div class="d-flex justify-content-center align-items-center flex-wrap">
                                <div class="d-flex flex-wrap py-2 mr-3">
                                    {% if pagination.has_prev %}
                                        <a href="{{url_for(request.endpoint,page=1,per_page=pagination.per_page,category=request.args.get("category"))}}" class="btn btn-icon btn-circle btn-sm btn-light mr-2 my-1 {% if pagination.prev_num<3 %}disabled{% endif %}"> <i class="ki ki-bold-double-arrow-back icon-xs"></i></a>
                                        <a href="{{url_for(request.endpoint,page=pagination.next_num,per_page=pagination.per_page,category=request.args.get("category"))}}" class="btn btn-icon btn-circle  btn-sm btn-light mr-2 my-1"> <i class="ki ki-bold-arrow-back icon-xs"></i> </a>
                                        {% if pagination.prev_num>1 %}
                                            <a href="{{url_for(request.endpoint,page=pagination.prev_num|int - 1,per_page=pagination.per_page,category=request.args.get("category"))}}" class="btn btn-icon btn-sm border-0 btn-light mr-2 my-1">{{ pagination.prev_num - 1 }}</a>
                                        {% endif %}
                                        <a href="{{url_for(request.endpoint,page=pagination.prev_num,per_page=pagination.per_page,category=request.args.get("category"))}}" class="btn btn-icon btn-sm border-0 btn-light mr-2 my-1">{{ pagination.prev_num }}</a>
                                    {% endif %}
                                    <a class="btn btn-icon btn-sm border-0 btn-light btn-hover-success active mr-2 my-1">{{ pagination.page }}</a>
                                    {% if pagination.has_next %}
                                        <a href="{{url_for(request.endpoint,page=pagination.next_num,per_page=pagination.per_page,category=request.args.get("category"))}}" class="btn btn-icon btn-sm border-0 btn-light mr-2 my-1">{{ pagination.next_num }}</a>
                                        {% if pagination.next_num != pagination.pages %}
                                            <a href="{{url_for(request.endpoint,page=pagination.next_num|int + 1,per_page=pagination.per_page,category=request.args.get("category"))}}" class="btn btn-icon btn-sm border-0 btn-light mr-2 my-1">{{ pagination.next_num|int + 1 }}</a>
                                        {% endif %}
                                        <a href="{{url_for(request.endpoint,page=pagination.next_num,per_page=pagination.per_page,category=request.args.get("category"))}}" class="btn btn-icon btn-circle btn-sm btn-light mr-2 my-1"> <i class="ki ki-bold-arrow-next icon-xs"></i> </a>
                                        <a href="{{url_for(request.endpoint,page=pagination.total,per_page=pagination.per_page,category=request.args.get("category"))}}" class="btn btn-icon btn-circle btn-sm btn-light mr-2 my-1 {% if pagination.pages|int - pagination.next_num|int<3 %}disabled{% endif %}"> <i class="ki ki-bold-double-arrow-next icon-xs"></i> </a>
                                    {% endif %}
                                </div>
                            </div>
                            <!--end:: Pagination-->
                        </div>
                    </div>
                    <!--end::Body-->
                </div>
                <!--end::Tables Widget 2-->
            </div>
        </div>
    </div>
    {% include '_includes/_scripts.html' %}
{% endblock %}